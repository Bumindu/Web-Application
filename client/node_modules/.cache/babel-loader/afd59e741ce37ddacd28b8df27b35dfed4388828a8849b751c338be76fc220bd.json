{"ast":null,"code":"var _jsxFileName = \"E:\\\\Web Application\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useMemo, useRef } from 'react';\nimport { Container, Box, TextField, Button, Paper, Typography, CircularProgress, Alert, Snackbar, Avatar, AppBar, Toolbar, IconButton, useTheme, ThemeProvider, createTheme, Switch, FormControlLabel, Badge, CssBaseline, Drawer, List, ListItem, ListItemIcon, ListItemText, Divider } from '@mui/material';\nimport SendIcon from '@mui/icons-material/Send';\nimport SmartToyIcon from '@mui/icons-material/SmartToy';\nimport PersonIcon from '@mui/icons-material/Person';\nimport Brightness4Icon from '@mui/icons-material/Brightness4';\nimport Brightness7Icon from '@mui/icons-material/Brightness7';\nimport AttachFileIcon from '@mui/icons-material/AttachFile';\nimport ImageIcon from '@mui/icons-material/Image';\nimport MenuIcon from '@mui/icons-material/Menu';\nimport SettingsIcon from '@mui/icons-material/Settings';\nimport axios from 'axios';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { AuthProvider, useAuth } from './contexts/AuthContext';\nimport Login from './components/auth/Login';\nimport Signup from './components/auth/Signup';\nimport ChatApp from './components/ChatApp';\n\n// Protected Route component\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProtectedRoute = ({\n  children\n}) => {\n  _s();\n  const {\n    user,\n    loading\n  } = useAuth();\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 12\n    }, this);\n  }\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 12\n    }, this);\n  }\n  return children;\n};\n_s(ProtectedRoute, \"EmJkapf7qiLC5Br5eCoEq4veZes=\", false, function () {\n  return [useAuth];\n});\n_c = ProtectedRoute;\nfunction App() {\n  _s2();\n  const [message, setMessage] = useState('');\n  const [chatHistory, setChatHistory] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [serverStatus, setServerStatus] = useState('checking');\n  const [mode, setMode] = useState('light');\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [previewUrl, setPreviewUrl] = useState(null);\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const fileInputRef = useRef(null);\n\n  // Create theme based on mode\n  const theme = useMemo(() => createTheme({\n    palette: {\n      mode,\n      primary: {\n        main: mode === 'light' ? '#2563eb' : '#60a5fa'\n      },\n      secondary: {\n        main: mode === 'light' ? '#7c3aed' : '#a78bfa'\n      },\n      background: {\n        default: mode === 'light' ? '#f8fafc' : '#0f172a',\n        paper: mode === 'light' ? '#ffffff' : '#1e293b'\n      }\n    },\n    typography: {\n      fontFamily: '\"Inter\", \"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n      h1: {\n        fontWeight: 600\n      },\n      h2: {\n        fontWeight: 600\n      },\n      h3: {\n        fontWeight: 600\n      }\n    },\n    shape: {\n      borderRadius: 12\n    },\n    components: {\n      MuiButton: {\n        styleOverrides: {\n          root: {\n            textTransform: 'none',\n            fontWeight: 500\n          }\n        }\n      },\n      MuiPaper: {\n        styleOverrides: {\n          root: {\n            backgroundImage: 'none'\n          }\n        }\n      }\n    }\n  }), [mode]);\n  const toggleColorMode = () => {\n    setMode(prevMode => prevMode === 'light' ? 'dark' : 'light');\n  };\n  useEffect(() => {\n    checkServerConnection();\n    // Check connection every 30 seconds\n    const interval = setInterval(checkServerConnection, 30000);\n    return () => clearInterval(interval);\n  }, []);\n  const checkServerConnection = async () => {\n    try {\n      const response = await axios.get('http://localhost:5000/api/test');\n      if (response.data.message === 'Server is running!') {\n        setServerStatus('connected');\n      } else {\n        setServerStatus('disconnected');\n        setError('Server is not responding correctly');\n      }\n    } catch (error) {\n      setServerStatus('disconnected');\n      setError('Unable to connect to the server. Please make sure the server is running.');\n    }\n  };\n  const handleFileSelect = event => {\n    const file = event.target.files[0];\n    if (file) {\n      // Check file size (5MB limit)\n      if (file.size > 5 * 1024 * 1024) {\n        setError('File size exceeds 5MB limit');\n        return;\n      }\n      // Check file type\n      if (!file.type.startsWith('image/')) {\n        setError('Please upload an image file');\n        return;\n      }\n      setSelectedFile(file);\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setPreviewUrl(reader.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n  const handleUpload = async () => {\n    if (!selectedFile) return null;\n    const formData = new FormData();\n    formData.append('file', selectedFile);\n    try {\n      const response = await axios.post('http://localhost:5000/api/upload', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      if (!response.data.url) {\n        throw new Error('No URL returned from server');\n      }\n      return response.data.url;\n    } catch (error) {\n      console.error('Upload error:', error);\n      setError('Failed to upload file. Please try again.');\n      return null;\n    }\n  };\n  const handleSendMessage = async () => {\n    if (!message.trim() && !selectedFile) return;\n    const userMessage = message.trim();\n    setMessage('');\n    setLoading(true);\n    setError(null);\n    let imageUrl = null;\n    if (selectedFile) {\n      imageUrl = await handleUpload();\n      if (!imageUrl) {\n        setLoading(false);\n        return;\n      }\n      setSelectedFile(null);\n      setPreviewUrl(null);\n    }\n    setChatHistory(prev => [...prev, {\n      sender: 'user',\n      text: userMessage || (imageUrl ? 'Analyze this image' : ''),\n      imageUrl: previewUrl\n    }]);\n    try {\n      const response = await axios.post('http://localhost:5000/api/chat', {\n        message: userMessage,\n        imageUrl: imageUrl\n      });\n      if (!response.data.response) {\n        throw new Error('No response from server');\n      }\n      setChatHistory(prev => [...prev, {\n        sender: 'alexa',\n        text: response.data.response\n      }]);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error:', error);\n      const errorMessage = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Failed to send message. Please try again.';\n      setError(errorMessage);\n      setChatHistory(prev => [...prev, {\n        sender: 'alexa',\n        text: 'Sorry, I encountered an error. Please try again.'\n      }]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleCloseError = () => {\n    setError(null);\n  };\n  return /*#__PURE__*/_jsxDEV(AuthProvider, {\n    children: /*#__PURE__*/_jsxDEV(Router, {\n      children: /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/login\",\n          element: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 41\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/signup\",\n          element: /*#__PURE__*/_jsxDEV(Signup, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 42\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n            children: /*#__PURE__*/_jsxDEV(ThemeProvider, {\n              theme: theme,\n              children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  height: '100vh',\n                  overflow: 'hidden'\n                },\n                children: [/*#__PURE__*/_jsxDEV(AppBar, {\n                  position: \"fixed\",\n                  sx: {\n                    zIndex: theme => theme.zIndex.drawer + 1\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Toolbar, {\n                    children: [/*#__PURE__*/_jsxDEV(IconButton, {\n                      color: \"inherit\",\n                      edge: \"start\",\n                      onClick: () => setDrawerOpen(!drawerOpen),\n                      sx: {\n                        mr: 2\n                      },\n                      children: /*#__PURE__*/_jsxDEV(MenuIcon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 273,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 267,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"h6\",\n                      component: \"div\",\n                      sx: {\n                        flexGrow: 1\n                      },\n                      children: \"Alexa Chat\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 275,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                      color: \"inherit\",\n                      onClick: toggleColorMode,\n                      children: mode === 'dark' ? /*#__PURE__*/_jsxDEV(Brightness7Icon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 279,\n                        columnNumber: 46\n                      }, this) : /*#__PURE__*/_jsxDEV(Brightness4Icon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 279,\n                        columnNumber: 68\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 278,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 266,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Drawer, {\n                  variant: \"temporary\",\n                  open: drawerOpen,\n                  onClose: () => setDrawerOpen(false),\n                  sx: {\n                    width: 240,\n                    flexShrink: 0,\n                    '& .MuiDrawer-paper': {\n                      width: 240,\n                      boxSizing: 'border-box'\n                    }\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Toolbar, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 297,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Box, {\n                    sx: {\n                      overflow: 'auto'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(List, {\n                      children: /*#__PURE__*/_jsxDEV(ListItem, {\n                        button: true,\n                        children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                          children: /*#__PURE__*/_jsxDEV(SettingsIcon, {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 302,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 301,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                          primary: \"Settings\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 304,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 300,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 299,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 307,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 298,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  component: \"main\",\n                  sx: {\n                    flexGrow: 1,\n                    p: 3,\n                    width: '100%',\n                    height: '100%',\n                    display: 'flex',\n                    flexDirection: 'column',\n                    pt: '64px'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Paper, {\n                    elevation: 0,\n                    sx: {\n                      flexGrow: 1,\n                      display: 'flex',\n                      flexDirection: 'column',\n                      overflow: 'hidden',\n                      borderRadius: 2,\n                      bgcolor: 'background.paper'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Box, {\n                      sx: {\n                        flexGrow: 1,\n                        overflowY: 'auto',\n                        p: 2,\n                        display: 'flex',\n                        flexDirection: 'column',\n                        gap: 2\n                      },\n                      children: [chatHistory.map((chat, index) => /*#__PURE__*/_jsxDEV(Box, {\n                        sx: {\n                          display: 'flex',\n                          justifyContent: chat.sender === 'user' ? 'flex-end' : 'flex-start',\n                          gap: 1\n                        },\n                        children: /*#__PURE__*/_jsxDEV(Box, {\n                          sx: {\n                            maxWidth: '70%',\n                            p: 2,\n                            borderRadius: 2,\n                            bgcolor: chat.sender === 'user' ? 'primary.main' : 'background.paper',\n                            color: chat.sender === 'user' ? 'white' : 'text.primary',\n                            boxShadow: 1\n                          },\n                          children: [chat.text, chat.imageUrl && /*#__PURE__*/_jsxDEV(Box, {\n                            sx: {\n                              mt: 1\n                            },\n                            children: /*#__PURE__*/_jsxDEV(\"img\", {\n                              src: chat.imageUrl,\n                              alt: \"Uploaded\",\n                              style: {\n                                maxWidth: '100%',\n                                borderRadius: 8\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 366,\n                              columnNumber: 37\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 365,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 353,\n                          columnNumber: 31\n                        }, this)\n                      }, index, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 345,\n                        columnNumber: 29\n                      }, this)), loading && /*#__PURE__*/_jsxDEV(Box, {\n                        sx: {\n                          display: 'flex',\n                          justifyContent: 'flex-start'\n                        },\n                        children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n                          size: 24\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 378,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 377,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 334,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Box, {\n                      sx: {\n                        p: 2,\n                        borderTop: 1,\n                        borderColor: 'divider',\n                        bgcolor: 'background.paper'\n                      },\n                      children: /*#__PURE__*/_jsxDEV(Box, {\n                        sx: {\n                          display: 'flex',\n                          gap: 1\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(TextField, {\n                          fullWidth: true,\n                          variant: \"outlined\",\n                          placeholder: \"Type your message...\",\n                          value: message,\n                          onChange: e => setMessage(e.target.value),\n                          onKeyPress: e => e.key === 'Enter' && handleSendMessage(),\n                          sx: {\n                            '& .MuiOutlinedInput-root': {\n                              borderRadius: 2\n                            }\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 392,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"file\",\n                          ref: fileInputRef,\n                          style: {\n                            display: 'none'\n                          },\n                          onChange: handleFileSelect,\n                          accept: \"image/*\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 405,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                          color: \"primary\",\n                          onClick: () => {\n                            var _fileInputRef$current;\n                            return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n                          },\n                          children: /*#__PURE__*/_jsxDEV(AttachFileIcon, {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 416,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 412,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(Button, {\n                          variant: \"contained\",\n                          color: \"primary\",\n                          onClick: handleSendMessage,\n                          disabled: loading || !message && !selectedFile,\n                          sx: {\n                            borderRadius: 2\n                          },\n                          children: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 425,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 418,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 391,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 383,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 323,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n                open: error !== null,\n                autoHideDuration: 6000,\n                onClose: handleCloseError,\n                children: /*#__PURE__*/_jsxDEV(Alert, {\n                  onClose: handleCloseError,\n                  severity: \"error\",\n                  sx: {\n                    width: '100%'\n                  },\n                  children: error\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 438,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 253,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"iVi52TcuUc6upECs98nLc6i4fHE=\");\n_c2 = App;\nexport default App;\nvar _c, _c2;\n$RefreshReg$(_c, \"ProtectedRoute\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","useRef","Container","Box","TextField","Button","Paper","Typography","CircularProgress","Alert","Snackbar","Avatar","AppBar","Toolbar","IconButton","useTheme","ThemeProvider","createTheme","Switch","FormControlLabel","Badge","CssBaseline","Drawer","List","ListItem","ListItemIcon","ListItemText","Divider","SendIcon","SmartToyIcon","PersonIcon","Brightness4Icon","Brightness7Icon","AttachFileIcon","ImageIcon","MenuIcon","SettingsIcon","axios","BrowserRouter","Router","Routes","Route","Navigate","AuthProvider","useAuth","Login","Signup","ChatApp","jsxDEV","_jsxDEV","ProtectedRoute","children","_s","user","loading","fileName","_jsxFileName","lineNumber","columnNumber","to","_c","App","_s2","message","setMessage","chatHistory","setChatHistory","setLoading","error","setError","serverStatus","setServerStatus","mode","setMode","selectedFile","setSelectedFile","previewUrl","setPreviewUrl","drawerOpen","setDrawerOpen","fileInputRef","theme","palette","primary","main","secondary","background","default","paper","typography","fontFamily","h1","fontWeight","h2","h3","shape","borderRadius","components","MuiButton","styleOverrides","root","textTransform","MuiPaper","backgroundImage","toggleColorMode","prevMode","checkServerConnection","interval","setInterval","clearInterval","response","get","data","handleFileSelect","event","file","target","files","size","type","startsWith","reader","FileReader","onloadend","result","readAsDataURL","handleUpload","formData","FormData","append","post","headers","url","Error","console","handleSendMessage","trim","userMessage","imageUrl","prev","sender","text","_error$response","_error$response$data","errorMessage","handleCloseError","path","element","sx","display","height","overflow","position","zIndex","drawer","color","edge","onClick","mr","variant","component","flexGrow","open","onClose","width","flexShrink","boxSizing","button","p","flexDirection","pt","elevation","bgcolor","overflowY","gap","map","chat","index","justifyContent","maxWidth","boxShadow","mt","src","alt","style","borderTop","borderColor","fullWidth","placeholder","value","onChange","e","onKeyPress","key","ref","accept","_fileInputRef$current","current","click","disabled","autoHideDuration","severity","_c2","$RefreshReg$"],"sources":["E:/Web Application/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useMemo, useRef } from 'react';\nimport { \n  Container, \n  Box, \n  TextField, \n  Button, \n  Paper, \n  Typography,\n  CircularProgress,\n  Alert,\n  Snackbar,\n  Avatar,\n  AppBar,\n  Toolbar,\n  IconButton,\n  useTheme,\n  ThemeProvider,\n  createTheme,\n  Switch,\n  FormControlLabel,\n  Badge,\n  CssBaseline,\n  Drawer,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  Divider\n} from '@mui/material';\nimport SendIcon from '@mui/icons-material/Send';\nimport SmartToyIcon from '@mui/icons-material/SmartToy';\nimport PersonIcon from '@mui/icons-material/Person';\nimport Brightness4Icon from '@mui/icons-material/Brightness4';\nimport Brightness7Icon from '@mui/icons-material/Brightness7';\nimport AttachFileIcon from '@mui/icons-material/AttachFile';\nimport ImageIcon from '@mui/icons-material/Image';\nimport MenuIcon from '@mui/icons-material/Menu';\nimport SettingsIcon from '@mui/icons-material/Settings';\nimport axios from 'axios';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { AuthProvider, useAuth } from './contexts/AuthContext';\nimport Login from './components/auth/Login';\nimport Signup from './components/auth/Signup';\nimport ChatApp from './components/ChatApp';\n\n// Protected Route component\nconst ProtectedRoute = ({ children }) => {\n  const { user, loading } = useAuth();\n\n  if (loading) {\n    return <div>Loading...</div>;\n  }\n\n  if (!user) {\n    return <Navigate to=\"/login\" />;\n  }\n\n  return children;\n};\n\nfunction App() {\n  const [message, setMessage] = useState('');\n  const [chatHistory, setChatHistory] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [serverStatus, setServerStatus] = useState('checking');\n  const [mode, setMode] = useState('light');\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [previewUrl, setPreviewUrl] = useState(null);\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const fileInputRef = useRef(null);\n\n  // Create theme based on mode\n  const theme = useMemo(\n    () =>\n      createTheme({\n        palette: {\n          mode,\n          primary: {\n            main: mode === 'light' ? '#2563eb' : '#60a5fa',\n          },\n          secondary: {\n            main: mode === 'light' ? '#7c3aed' : '#a78bfa',\n          },\n          background: {\n            default: mode === 'light' ? '#f8fafc' : '#0f172a',\n            paper: mode === 'light' ? '#ffffff' : '#1e293b',\n          },\n        },\n        typography: {\n          fontFamily: '\"Inter\", \"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n          h1: {\n            fontWeight: 600,\n          },\n          h2: {\n            fontWeight: 600,\n          },\n          h3: {\n            fontWeight: 600,\n          },\n        },\n        shape: {\n          borderRadius: 12,\n        },\n        components: {\n          MuiButton: {\n            styleOverrides: {\n              root: {\n                textTransform: 'none',\n                fontWeight: 500,\n              },\n            },\n          },\n          MuiPaper: {\n            styleOverrides: {\n              root: {\n                backgroundImage: 'none',\n              },\n            },\n          },\n        },\n      }),\n    [mode]\n  );\n\n  const toggleColorMode = () => {\n    setMode((prevMode) => (prevMode === 'light' ? 'dark' : 'light'));\n  };\n\n  useEffect(() => {\n    checkServerConnection();\n    // Check connection every 30 seconds\n    const interval = setInterval(checkServerConnection, 30000);\n    return () => clearInterval(interval);\n  }, []);\n\n  const checkServerConnection = async () => {\n    try {\n      const response = await axios.get('http://localhost:5000/api/test');\n      if (response.data.message === 'Server is running!') {\n        setServerStatus('connected');\n      } else {\n        setServerStatus('disconnected');\n        setError('Server is not responding correctly');\n      }\n    } catch (error) {\n      setServerStatus('disconnected');\n      setError('Unable to connect to the server. Please make sure the server is running.');\n    }\n  };\n\n  const handleFileSelect = (event) => {\n    const file = event.target.files[0];\n    if (file) {\n      // Check file size (5MB limit)\n      if (file.size > 5 * 1024 * 1024) {\n        setError('File size exceeds 5MB limit');\n        return;\n      }\n      // Check file type\n      if (!file.type.startsWith('image/')) {\n        setError('Please upload an image file');\n        return;\n      }\n      setSelectedFile(file);\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setPreviewUrl(reader.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleUpload = async () => {\n    if (!selectedFile) return null;\n\n    const formData = new FormData();\n    formData.append('file', selectedFile);\n\n    try {\n      const response = await axios.post('http://localhost:5000/api/upload', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n\n      if (!response.data.url) {\n        throw new Error('No URL returned from server');\n      }\n\n      return response.data.url;\n    } catch (error) {\n      console.error('Upload error:', error);\n      setError('Failed to upload file. Please try again.');\n      return null;\n    }\n  };\n\n  const handleSendMessage = async () => {\n    if (!message.trim() && !selectedFile) return;\n\n    const userMessage = message.trim();\n    setMessage('');\n    setLoading(true);\n    setError(null);\n\n    let imageUrl = null;\n    if (selectedFile) {\n      imageUrl = await handleUpload();\n      if (!imageUrl) {\n        setLoading(false);\n        return;\n      }\n      setSelectedFile(null);\n      setPreviewUrl(null);\n    }\n\n    setChatHistory(prev => [...prev, { \n      sender: 'user', \n      text: userMessage || (imageUrl ? 'Analyze this image' : ''),\n      imageUrl: previewUrl\n    }]);\n\n    try {\n      const response = await axios.post('http://localhost:5000/api/chat', {\n        message: userMessage,\n        imageUrl: imageUrl\n      });\n\n      if (!response.data.response) {\n        throw new Error('No response from server');\n      }\n\n      setChatHistory(prev => [...prev, { sender: 'alexa', text: response.data.response }]);\n    } catch (error) {\n      console.error('Error:', error);\n      const errorMessage = error.response?.data?.error || 'Failed to send message. Please try again.';\n      setError(errorMessage);\n      setChatHistory(prev => [...prev, { \n        sender: 'alexa', \n        text: 'Sorry, I encountered an error. Please try again.' \n      }]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCloseError = () => {\n    setError(null);\n  };\n\n  return (\n    <AuthProvider>\n      <Router>\n        <Routes>\n          <Route path=\"/login\" element={<Login />} />\n          <Route path=\"/signup\" element={<Signup />} />\n          <Route\n            path=\"/\"\n            element={\n              <ProtectedRoute>\n                <ThemeProvider theme={theme}>\n                  <CssBaseline />\n                  <Box sx={{ display: 'flex', height: '100vh', overflow: 'hidden' }}>\n                    <AppBar position=\"fixed\" sx={{ zIndex: (theme) => theme.zIndex.drawer + 1 }}>\n                      <Toolbar>\n                        <IconButton\n                          color=\"inherit\"\n                          edge=\"start\"\n                          onClick={() => setDrawerOpen(!drawerOpen)}\n                          sx={{ mr: 2 }}\n                        >\n                          <MenuIcon />\n                        </IconButton>\n                        <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\n                          Alexa Chat\n                        </Typography>\n                        <IconButton color=\"inherit\" onClick={toggleColorMode}>\n                          {mode === 'dark' ? <Brightness7Icon /> : <Brightness4Icon />}\n                        </IconButton>\n                      </Toolbar>\n                    </AppBar>\n\n                    <Drawer\n                      variant=\"temporary\"\n                      open={drawerOpen}\n                      onClose={() => setDrawerOpen(false)}\n                      sx={{\n                        width: 240,\n                        flexShrink: 0,\n                        '& .MuiDrawer-paper': {\n                          width: 240,\n                          boxSizing: 'border-box',\n                        },\n                      }}\n                    >\n                      <Toolbar />\n                      <Box sx={{ overflow: 'auto' }}>\n                        <List>\n                          <ListItem button>\n                            <ListItemIcon>\n                              <SettingsIcon />\n                            </ListItemIcon>\n                            <ListItemText primary=\"Settings\" />\n                          </ListItem>\n                        </List>\n                        <Divider />\n                      </Box>\n                    </Drawer>\n\n                    <Box\n                      component=\"main\"\n                      sx={{\n                        flexGrow: 1,\n                        p: 3,\n                        width: '100%',\n                        height: '100%',\n                        display: 'flex',\n                        flexDirection: 'column',\n                        pt: '64px',\n                      }}\n                    >\n                      <Paper\n                        elevation={0}\n                        sx={{\n                          flexGrow: 1,\n                          display: 'flex',\n                          flexDirection: 'column',\n                          overflow: 'hidden',\n                          borderRadius: 2,\n                          bgcolor: 'background.paper',\n                        }}\n                      >\n                        <Box\n                          sx={{\n                            flexGrow: 1,\n                            overflowY: 'auto',\n                            p: 2,\n                            display: 'flex',\n                            flexDirection: 'column',\n                            gap: 2,\n                          }}\n                        >\n                          {chatHistory.map((chat, index) => (\n                            <Box\n                              key={index}\n                              sx={{\n                                display: 'flex',\n                                justifyContent: chat.sender === 'user' ? 'flex-end' : 'flex-start',\n                                gap: 1,\n                              }}\n                            >\n                              <Box\n                                sx={{\n                                  maxWidth: '70%',\n                                  p: 2,\n                                  borderRadius: 2,\n                                  bgcolor: chat.sender === 'user' ? 'primary.main' : 'background.paper',\n                                  color: chat.sender === 'user' ? 'white' : 'text.primary',\n                                  boxShadow: 1,\n                                }}\n                              >\n                                {chat.text}\n                                {chat.imageUrl && (\n                                  <Box sx={{ mt: 1 }}>\n                                    <img\n                                      src={chat.imageUrl}\n                                      alt=\"Uploaded\"\n                                      style={{ maxWidth: '100%', borderRadius: 8 }}\n                                    />\n                                  </Box>\n                                )}\n                              </Box>\n                            </Box>\n                          ))}\n                          {loading && (\n                            <Box sx={{ display: 'flex', justifyContent: 'flex-start' }}>\n                              <CircularProgress size={24} />\n                            </Box>\n                          )}\n                        </Box>\n\n                        <Box\n                          sx={{\n                            p: 2,\n                            borderTop: 1,\n                            borderColor: 'divider',\n                            bgcolor: 'background.paper',\n                          }}\n                        >\n                          <Box sx={{ display: 'flex', gap: 1 }}>\n                            <TextField\n                              fullWidth\n                              variant=\"outlined\"\n                              placeholder=\"Type your message...\"\n                              value={message}\n                              onChange={(e) => setMessage(e.target.value)}\n                              onKeyPress={(e) => e.key === 'Enter' && handleSendMessage()}\n                              sx={{\n                                '& .MuiOutlinedInput-root': {\n                                  borderRadius: 2,\n                                },\n                              }}\n                            />\n                            <input\n                              type=\"file\"\n                              ref={fileInputRef}\n                              style={{ display: 'none' }}\n                              onChange={handleFileSelect}\n                              accept=\"image/*\"\n                            />\n                            <IconButton\n                              color=\"primary\"\n                              onClick={() => fileInputRef.current?.click()}\n                            >\n                              <AttachFileIcon />\n                            </IconButton>\n                            <Button\n                              variant=\"contained\"\n                              color=\"primary\"\n                              onClick={handleSendMessage}\n                              disabled={loading || (!message && !selectedFile)}\n                              sx={{ borderRadius: 2 }}\n                            >\n                              <SendIcon />\n                            </Button>\n                          </Box>\n                        </Box>\n                      </Paper>\n                    </Box>\n                  </Box>\n\n                  <Snackbar\n                    open={error !== null}\n                    autoHideDuration={6000}\n                    onClose={handleCloseError}\n                  >\n                    <Alert onClose={handleCloseError} severity=\"error\" sx={{ width: '100%' }}>\n                      {error}\n                    </Alert>\n                  </Snackbar>\n                </ThemeProvider>\n              </ProtectedRoute>\n            }\n          />\n        </Routes>\n      </Router>\n    </AuthProvider>\n  );\n}\n\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}